{%= include("install-bower", {save: true}) %}

## Usage

```js
var config = require('./')();
var pkg = config.normalize(require('./package'));
```

## Features

Normalizes most package.json fields, and:

- converts `repository` objects to a string
- stringifies `author` object
- stringifies each "person" object in `maintainers`, `contributors` and `collaborators`
- converts `licenses` arrays and objects to a `license` string
- removes files that don't exist from `bin`, `main` and the `files` array
- adds `cli.js` to `bin` if it exists
- creates `keywords` array from `name` if not defined

See the [schema](lib/schema.js), [normalizers](lib/normalizers), and [unit tests](test) for more examples.

## Normalizing fields

Fields are normalized using a schema (powered by [map-schema][]).

**Defaults**

Defaults are based on npm recommendations. When a required or recommended field is missing, `normalize-pkg` attempts to create the field if valid data can be found in the repository. 

**Example**

The following:

```js
var config = require('./')();

// no package.json is passed, just an empty object
var pkg = config.normalize({});
console.log(pkg);
```

**Results**

Since an empty object was passed, `normalize-pkg` was smart enough to fill in missing fields looking for info in the project. In this case, specifically from parsing `.git` config and using any defaults defined on the schema. 

```js
{ name: 'normalize-pkg',
  version: '0.1.0',
  homepage: 'https://github.com/jonschlinkert/normalize-pkg',
  repository: 'jonschlinkert/normalize-pkg',
  license: 'MIT',
  files: [ 'index.js' ],
  main: 'index.js',
  engines: { node: '>= 0.10.0' },
  keywords: [ 'normalize', 'pkg' ] }
```


## Options

### options.pick

**Type**: `array`

**Default**: `undefined`

Filter the resulting object to contain only the specified keys.

### options.omit

**Type**: `array`

**Default**: `undefined`

Remove the specified keys from the resulting object.

## Customize

Pass a `fields` object on the options to customize any fields on the schema (also define `extend: true` if you want the field to extend a field that is already defined):

```js
var pkg = config.normalize(require('./package'), {
  extend: true,
  fields: {
    name: {
      normalize: function() {
        return 'bar'
      }
    }
  }
});

console.log(pkg.name);
//=> 'bar'
```

